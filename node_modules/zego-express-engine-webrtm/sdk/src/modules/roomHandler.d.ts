import { ENUM_RUN_STATE, ZegoDataReport, ZegoLogger, ZegoError } from '../zego.entity';
import { StateCenter } from '../stateCenter';
import { LiveRoomService } from '../service';
import { ZegoRoomConfig, ZegoRoomStateChangedReason, ZegoUser } from '../../code/zh/ZegoExpressEntity';
import { LiveRoomModules } from '.';
import { ZegoRoomServicer } from './ZegoRoomServicer';
export declare class RoomHandler {
    private logger;
    private stateCenter;
    private dataReport;
    private service;
    private room;
    private liveRoomHandler;
    private tryLoginTimer;
    private tryLoginCount;
    private tryLoginInterval;
    private tokenTimer;
    private beforeExpire;
    server: string;
    liveRoomLoginKey: any;
    tempBrokenTime: number;
    private reconectTimes;
    constructor(logger: ZegoLogger, stateCenter: StateCenter, dataReport: ZegoDataReport, service: LiveRoomService, room: LiveRoomModules, liveRoomHandler: ZegoRoomServicer);
    resetTokenTimer(interval: number): void;
    private stopTokenTimer;
    setRunState(newRunState: ENUM_RUN_STATE): void;
    private resetTryLogin;
    private reportLogoutSpan;
    resetRoom(isAll?: boolean): void;
    resetRoomCallBack(): void;
    loginSuccessCallBack(lastRunState: number, msg: any): void;
    handlePushKickout(msg: any, isAll?: boolean, isSwitch?: boolean): void;
    handleHbLogout(err: ZegoError): void;
    onDisconnect(err: ZegoError): void;
    onConnecting(err: ZegoError): void;
    disconnectedHandle(error: ZegoError, extend?: {
        extendedData?: string;
        isKickout?: boolean;
    }): void;
    roomStateHandle(state: 'DISCONNECTED' | 'CONNECTING' | 'CONNECTED', reason: ZegoRoomStateChangedReason, error: ZegoError, extendedData?: string, isConnectChanged?: boolean): void;
    login(server: string, roomid: string, token: string, user: ZegoUser, config: ZegoRoomConfig | undefined, success: (success: boolean) => void, error: (err: ZegoError) => void): void;
    private tryLogin;
    private openHandler;
    private handleLoginRsp;
    private loginCallback;
    private handleLoginFail;
    private handleLoginSuccess;
    private closeHandler;
    logout(isAll?: boolean, isConnectChanged?: boolean): void;
    private handleLogoutRsp;
}
